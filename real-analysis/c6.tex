\chapter{Series}\label{c6}
We will start the discussion with finite series. It might seem a bit 
pedantic but it has some interesting ideas that will be obvious for finite
cases but may be true for infinite sums and even integrals.
\section{Finite series}\label{c6s1}
We define a finite series recursively as
\begin{defn}\label{c6s1d1}
Let $m, n \in \soi$ and let $\{a_i \in \sor \;|\; \forall m \le i \le n \lor
n \le i \le m\}$ be a finite set. Then we define the finite series as
\begin{eqnarray*}
\sum_{i=m}^n a_i &:=& 0 \text{ if } n < m \\
\sum_{i=m}^{n+1} a_i &:=& \sum_{i=m}^n a_i + a_{n+1}.
\end{eqnarray*}
\end{defn}
Thus,
\[
\sum_{i=m}^m a_i = \sum_{i=m}^{m-1} a_i + a_m = 0 + a_m = a_m.
\]
and, if $n > m$,
\[
\sum_{i=m}^{n} a_i = \sum_{i=m}^{n-1}a_i + a_n = \sum_{i=n}^{n-2}a_i + 
a_{n-1} + a_n.
\]

One tends to view the next set of lemmas as obvious. In a way, they are. 
But it is a fruitful exercise in building proofs starting from definitions
when one is confident of the assertions and the only challenge is in writing
a flawless proof.

\begin{lem}\label{c6s1l1}
Let $m \le n \le p$ be integers and let $a_i$ be a real number assigned to 
each integer $m \le i \le p$. Then,
\[
\sum_{i=m}^p a_i = \sum_{i=m}^n a_i + \sum_{i=n+1}^p a_i.
\]
\end{lem}
\begin{proof}
Consider
\[
\sum_{i=m}^n a_i + \sum_{i=n+1}^p a_i = \sum_{i=m}^n a_i + 
    \sum_{i=n+1}^{p-1} a_i + a_p \\
\]
Continuing inductively for $p - n - 1$ times, we get
\[
\sum_{i=m}^n a_i + \sum_{i=n+1}^p a_i = \sum_{i=m}^n a_i + 
    a_{n+1} + \cdots + a_p = \sum_{i=m}^{n+1} a_i + a_{n+2} + \cdots + a_p.
\]
Continuing inductively for $p - n - 1$ times we get
\[
\sum_{i=m}^n a_i + \sum_{i=n+1}^p a_i = \sum_{i=m}^{p} a_i 
\]
\end{proof}
\begin{rem}
This is a finite analogue of the result
\[
\int_a^c f = \int_a^b f + \int_b^c f
\]
whenever $a \le b \le c$ are real numbers and $f$ is a function that is 
integrable over the range $[a, c]$.
\end{rem}

\begin{lem}\label{c6s1l2}
Let $m \le n$ be integers and $k$ be another integer. Let $a_i$ be a real
number assigned to each integer $m \le i \le n$. Then,
\[
\sum_{i=m}^n a_i = \sum_{j=m+k}^{n+k}a_{j-k}.
\]
\end{lem}
\begin{proof}
\[
\sum_{j=m+k}^{n+k}a_{j-k} = \sum_{j=m+k}^{n+k-1}a_{j-k} + a_{n+k-k} =
\sum_{j=m+k}^{n+k-1}a_{j-k} + a_n.
\]
Continuing this way for $n - m + 1$ steps, we get
\[
\sum_{j=m+k}^{n+k}a_{j-k} = a_m + \ldots + a_n = \sum_{i=m}^n a_i.
\]
\end{proof}
\begin{rem}
This is analogous to the change of variable formula for definite integrals.
When the variable of integration changes the limits also change.
\end{rem}

\begin{lem}\label{c6s1l3}
Let $m \le n$ be integers and let $a_i$ and $b_i$ be real numbers assigned 
to each integer $m \le i \le n$. Then,
\[
\sum_{i=m}^n (a_i + b_i) = \sum_{i=m}^n a_i + \sum_{i=m}^n b_i.
\]
\end{lem}
\begin{proof}
\[
\sum_{i=m}^n (a_i + b_i) = \sum_{i=m}^{n-1} (a_i + b_i) + (a_n + b_n)
\]
Continuing this way $n - m$ times we get
\[
\sum_{i=m}^n (a_i + b_i) = (a_1 + b_1) + \cdots + (a_n + b_n) = (a_m +
\cdots + a_n) + (b_m + \cdots + b_n) = \sum_{i=m}^n a_i + \sum_{i=m}^n b_i.
\]
\end{proof}
\begin{rem}
This is analogous to
\[
\int_a^b (f + g) = \int_a^b f + \int_a^b g.
\]
\end{rem}

\begin{lem}\label{c6s1l4}
Let $m \le n$ be integers and let $a_i$ be a real number assigned to each 
integer $m \le i \le n$ and let $c \in \sor$ then
\[
\sum_{i=m}^n (ca_i) = c\sum_{i=m}^n a_i.
\]
\end{lem}
\begin{proof}
\[
\sum_{i=m}^n (ca_i) = \sum_{i=m}^{n-1} (ca_i) + ca_n 
\]
Continuing for $n - m$ steps, we get
\[
\sum_{i=m}^n (ca_i) = ca_1 + \cdots + ca_n = c(a_1 + \cdots + a_n) = 
c\sum_{i=m}^n a_i.
\]
\end{proof}
\begin{rem}
This is analogous to
\[
\int (cf) = c\int f.
\]
\end{rem}

\begin{lem}\label{c6s1l5}
Let $m \le n$ be integers and let $a_i$ be a real number assigned to each
integer $m \le i \le n$. Then,
\[
\left|\sum_{i=m}^n a_i\right| \le \sum_{i=m}^n |a_i|.
\]
\end{lem}
\begin{proof}
\[
\left|\sum_{i=m}^n a_i\right| = \left|\sum_{i=m}^{n-1} a_i + a_n\right| 
\le \left|\sum_{i=m}^{n-1}a_i\right| + |a_n|.
\]
Continuing this way $n - m$ times, we get
\[
\left|\sum_{i=m}^n a_i\right| \le |a_m| + \cdots + |a_n| =
\sum_{i=m}^n |a_i|.
\]
\end{proof}
\begin{rem}
This is analogous to
\[
\left|\int f\right| \le \int |f|.
\]
\end{rem}

\begin{lem}\label{c6s1l6}
Let $m \le n$ be integers and let $a_i, b_i$ be real numbers assigned to each
integer $m \le i \le n$. Suppose that $a_i \le b_i$ for all $m \le i \le n$.
Then,
\[
\sum_{i=m}^n a_i \le \sum_{i=m}^n b_i.
\]
\end{lem}
\begin{proof}
\[
\sum_{i=m}^n a_i = \sum_{i=1}^{n-1}a_i + a_n \le \sum_{i=1}^{n-1}a_i + b_n
\]
Continuing this way $n - m$ times, 
\[
\sum_{i=m}^n a_i \le b_1 + \cdots + b_n = \sum_{i=m}^n b_i.
\]
\end{proof}
\begin{rem}
If $f(x) \le g(x)$ for all $x \in [a, b]$ then
\[
\int f \le \int g.
\]
\end{rem}

\begin{defn}\label{c6s1d2}
Let $X$ be a finite set with $n \in \son$ elements and let $f:X \rightarrow
\sor$. Then
\[
\sum_{x \in X} f(x) := \sum_{i=1}^nf(g(i)),
\]
where $g:\{1, \ldots n\} \rightarrow X$.
\end{defn}
The definition is in terms of a bijection $g$ which is not specified. There
are many bijections possible between $\{1, \ldots, n\}$ and $X$. In order to
ensure that this definition is independent of the exact bijection we prove
that
\begin{prop}\label{c6s1p1}
Let $X$ be a finite set of $n \in \son$ elements, $f:X \rightarrow \sor$,
$g, h: \{1, \ldots, n\} \rightarrow X$ be bijections. Then
\[
\sum_{i=1}^n f(g(i)) = \sum_{i=1}^n f(h(i)).
\]
\end{prop}
\begin{proof}
We will use induction on $n$. For $n = 0$, both sides of the equation are
zero. This proves the base case. Now assume that the claim is true for some
$n$. Let $X$ have $n + 1$ elements. Then,
\[
\sum_{i=1}^{n+1} f(g(i)) = \sum_{i=1}^n f(g(i)) + f(g(n+1)).
\]
Let $g(n+1) = h(m) = x$ for some $1 \le m \le n + 1$. Therefore,
\[
\sum_{i=1}^{n+1} f(g(i)) = \sum_{i=1}^n f(g(i)) + f(h(m)).
\]
The sum on the rhs is over the $n$-element set $X - \{x\}$. Define 
bijections $\tilde{g}, \tilde{h}:\{1, \ldots, n\} \Rightarrow X - \{x\}$
such that $\tilde{g}(i) = g(i)$ for all $1 \le i \le n$,
\[
\tilde{h}(i) = \begin{cases}
 h(i) & 1 \le i < m \\
 h(i + 1) & m < i \le n
 \end{cases}
\]
In terms of $\tilde{g}$ we can write
\[
\sum_{i=1}^{n+1} f(g(i)) = \sum_{i=1}^n f(\tilde{g}(i)) + f(h(m)).
\]
By induction hypothesis,
\[
\sum_{i=1}^{n+1} f(g(i)) = \sum_{i=1}^n f(\tilde{h}(i)) + f(h(m))
= \sum_{i=1}^{m-1} f(\tilde{h}(i)) + f(h(m)) + \sum_{i=m}^nf(\tilde{h}(i))
\]
From the definition of $\tilde{h}$,
\[
\sum_{i=1}^{n+1} f(g(i)) = \sum_{i=1}^{m-1} f(h(i)) + f(h(m)) + 
\sum_{i=m}^nf(h(i+1))
\]
Using the change of index formula in lemma \ref{c6s1l2} with $k=1$,
\[
\sum_{i=1}^{n+1} f(g(i)) = \sum_{i=1}^{m-1} f(h(i)) + f(h(m)) + 
\sum_{j=m+1}^{n+1}f(h(j)) = \sum_{i=1}^{n+1}f(h(i)).
\]
\end{proof}
\begin{rem}
A bijection determines the order in which elements of $X$ are added. This
proposition assures that for finite sums ordering is unimportant. We will
later on realise that it is important for infinite sums.
\end{rem}

We will now prove a number or lemmas about properties of summation over
finite sets.
\begin{lem}\label{c6s1l7}
If $X$ is an empty set and $f: X \rightarrow \sor$ be a function. Then
\[
\sum_{x \in X}f(x) = 0.
\]
\end{lem}
\begin{proof}
The number of elements in an empty set is $0$. Therefore,
\[
\sum_{x \in x}f(x) = \sum_{i=1}^0f(g(i)),
\]
where $g$ is a bijection from an empty set to itself. By definition of
summation, the sum on the rhs is zero.
\end{proof}
\begin{rem}
See exercise 5 in section \ref{c2s3} for a proof of the existence of an
empty bijection.
\end{rem}

\begin{lem}\label{c6s1l8}
If $X$ consists of a single element $X = \{x_0\}$ and $f:X \rightarrow \sor$
is a function then
\[
\sum{x \in X}f(x) = f(x_0).
\]
\end{lem}
\begin{proof}
There is only one bijection $\{1\} \mapsto X = \{x_0\}$.
\end{proof}

\begin{lem}\label{c6s1l9}
If $X$ is a finite set, $f: X \rightarrow \sor$ is a function, $g: Y 
\rightarrow X$ is a bijection then,
\[
\sum_{x \in X}f(x) = \sum_{y \in Y}f(g(y)).
\]
\end{lem}
\begin{proof}
We start with
\[
\sum_{y \in Y}f(g(y)) = \sum_{i=1}^n f(g(b(i))),
\]
where $b: \{1, \ldots, n\} \rightarrow Y$ is a bijection. Since $g: Y
\rightarrow X$ is also a bijection, $g \circ b: \{1, \ldots, n\} \rightarrow
X$ is a bijection. We can write the rhs of previous equation as
\[
\sum_{y \in Y}f(g(y)) = \sum_{i=1}^n f((g \circ b)(i)) = \sum_{x \in X}f(x).
\]
\end{proof}

\begin{lem}\label{c6s1l10}
Let $n \le m$ be integers and $X := \{i \in \soi \;|\; n \le i \le m\}$. If
$a_i$ is a real number assigned to each integer $i \in X$ then
\[
\sum_{i=n}^m a_i = \sum_{i \in X}a_i.
\]
\end{lem}
\begin{proof}
The set $X$ contains $m - n + 1$ elements. Let $A = \{a_n, \ldots, a_m\}$
and $f: X \rightarrow A$ such that $f(i) = a_i$. Then,
\[
\sum_{i \in X}a_i = \sum_{i \in X}f(i).
\]
Let $g:\{1, \ldots, m - n + 1\} \rightarrow X$ be a bijection such that
$g(j) = n + j - 1$. Therefore, we can write rhs of the above equation as
\[
\sum_{i \in X}a_i = \sum_{j=1}^{m-n+1}f(g(j))
\]
By definition of $f$,
\[
\sum_{i \in X}a_i = \sum_{j=1}^{m-n+1}a_{g(j)}.
\]
By definition of $g$,
\[
\sum_{i \in X}a_i = \sum_{j=1}^{m-n+1}a_{n + j - 1}.
\]
Using the change of index formula of lemma \ref{c6s1l2},
\[
\sum_{i \in X}a_i = \sum_{j=n}^ma_n.
\]
\end{proof}

\begin{lem}\label{c6s1l11}
If $X$ and $Y$ are disjoint finite sets and $f: X \cup Y \rightarrow \sor$
is a function then,
\[
\sum_{z \in X \cup Y}f(z) = \sum_{x \in X}f(x) + \sum_{y \in Y}f(y).
\]
\end{lem}
\begin{proof}
% Problem 8 in section 2.6.1
\[
\sum_{z \in X \cup Y} f(z) = \sum_{i=1}^{m+n}f(g(i)),
\]
where $g: \{1, \ldots, m + n\} \rightarrow X \cup Y$ where $m = \card X$
and $n = \card Y$. From problem 8 in section \ref{c2s6}, $\card{X \cup Y}
= \card{X} + \card{Y}$. By proposition \ref{c6s1p1} all bijections between
$\{1, \ldots, m + n\}$ and $X \cup Y$  are equivalent. Therefore we can 
choose the one for which $g(\{1, \ldots, m\}) = X$ and $g(\{m+1, \ldots, 
m+n\} = Y$. Therefore
\[
\sum_{z \in X \cup Y}f(z) = \sum_{i=1}^m f(g(i)) + \sum_{i=m+1}^n f(g(i)).
\]
By our choice of $g$
\[
\sum_{z \in X \cup Y}f(z) = \sum_{z \in X}f(z) + \sum_{z \in Y} f(z)).
\]
\end{proof}

\begin{lem}\label{c6s1l12}
Let $X$ be a finite set and let $f, g: X \rightarrow \sor$ be functions.
Then,
\[
\sum_{x \in X}(f(x) + g(x)) = \sum_{x \in X}f(x) + \sum_{x \in X}g(x).
\]
\end{lem}
\begin{proof}
Let $h:\{1, \ldots, n\} \rightarrow X$ be a bijection, $n$ being the 
cardinality of $X$. Then,
\[
\sum_{x \in X}f(x) + \sum_{x \in X}g(x) = \sum_{i=1}^nf(h(i)) +
\sum_{i=1}^n g(h(i)) 
\]
By lemma \ref{c6s1l3}, the right hand side can be written as
\[
\sum_{x \in X}f(x) + \sum_{x \in X}g(x) = \sum_{i=1}^n(f(h(i)) + g(h(i)))
\]
Let $s: X \rightarrow \sor$ be such that $s(x) = f(x) + g(x)$ then,
\[
\sum_{x \in X}f(x) + \sum_{x \in X}g(x) = \sum_{i=1}^ns(h(i))
= \sum_{x \in X} s(x) = \sum_{x \in X} (f(x) + g(x))
\]
\end{proof}

\begin{lem}\label{c6s1l13}
Let $X$ be a finite set, $f: X \rightarrow \sor$ be a function, $c \in \sor$.
Then,
\[
\sum_{x \in X} cf(x) = c\sum_{x \in X}f(x).
\]
\end{lem}
\begin{proof}
Let $g: X \rightarrow \sor$ be such that $g(x) = cf(x)$. Then
\[
\sum_{x \in X} cf(x) = \sum_{x \in X} g(x) = \sum_{i=1}^ng(h(i))
= \sum_{i=1}^n cf(h(i)),
\]
where $h: X \rightarrow \{1, \ldots, n\}$ is a bijection. By lemma 
\ref{c6s1l4}, the last sum can be written as
\[
\sum_{x \in X} cf(x) = \sum_{x \in X} g(x) = c\sum_{i=1}^n f(h(i)) = 
c\sum_{x \in X} f(x).
\]
\end{proof}

\begin{lem}\label{c6s1l14}
Let $X$ be a finite set and let $f, g: X \rightarrow \sor$ be functions
such that $f(x) \le g(x)$ for all $x \in X$. Then,
\[
\sum_{x \in X}f(x) \le \sum_{x \in X}g(x).
\]
\end{lem}
\begin{proof}
Let $h:\{1, \ldots, n\} \rightarrow X$, where $n = \card{X}$ be a bijection.
Then 
\[
\sum_{x \in X}f(x) = \sum_{i=1}^n f(h(i)) \le \sum_{i=1}^n g(h(i)),
\]
by lemma \ref{c6s1l6}. This is because $f(h(i)) \le g(h(i))$ for all $i$.
Therefore,
\[
\sum_{x \in X}f(x) \le \sum_{x \in X}g(x).
\]
\end{proof}

\begin{lem}\label{c6s1l15}
Let $X$ be a finite set, $f:X \rightarrow \sor$ then
\[
\left|\sum_{x \in X}f(x)\right| \le \sum_{x \in X}|f(x)|.
\]
\end{lem}
\begin{proof}
Let $h:\{1, \ldots, n\} \rightarrow X$ be a bijection. Then,
\[
\left|\sum_{x \in X}f(x)\right| = \left|\sum_{i=1}^n f(h(i))\right| \le
\sum_{i=1}^n |f(h(i))|,
\]
using lemma \ref{c6s1l5}.
\end{proof}

\begin{lem}\label{c6s1l16}
Let $X$ and $Y$ be finite sets and let $f: X \times Y \rightarrow \sor$ be
a function. Then
\[
\sum_{x \in X}\left(\sum_{y \in Y} f(x, y)\right) = 
\sum_{(x, y) \in X \times Y} f(x, y).
\]
\end{lem}
\begin{proof}
We will use induction on the cardinality of $X$. Let $n = \card X$. If $n=0$
$X = \varnothing$. Then $X \times Y = \{(x, y) \;|\; x \in X, y \in Y\} =
\varnothing$ if $X = \varnothing$. Therefore by lemma \ref{c6s1l6}, rhs is
$0$. Likewise, lhs is also zero by the same lemma. This proves the base
case.

Let the claim be true to $\card{X} = n$. Let $\card{X} = n+1$. Then $X =
\{x_0\} \cup X^\op$, where $\card X^\op = n$ and the sets $\{x_0\}$ and 
$X^\op$ are disjoint. By lemma \ref{c6s1l11},
\[
\sum_{x \in X}\left(\sum_{y \in Y} f(x, y)\right) = 
\sum_{x \in \{x_0\}}\left(\sum_{y \in Y}f(x, y)\right) +
\sum_{x \in X}\left(\sum_{y \in Y}f(x, y)\right).
\]
Using induction hypothesis,
\[
\sum_{x \in X}\left(\sum_{y \in Y} f(x, y)\right) = 
\sum_{(x, y) \in \{x_0\} \times Y} f(x, y) + 
\sum_{(x, y) \in X^\op \times Y} f(x, y).
\]
The sets $\{x_0\} \cup Y$ and $X^\op \times Y$ are disjoint and their
union is the set $X \times Y$. The result follows immediately from lemma
\ref{c6s1l11}.
\end{proof}

\begin{thm}[Fubini's theorem for finite series]\label{c6s1t1}
Let $X, Y$ be finite sets and let $f: X \times Y \rightarrow \sor$ be a
function. Then
\[
\sum_{x \in X}\left(\sum_{y \in Y} f(x, y)\right) = 
\sum_{y \in Y}\left(\sum_{x \in X} f(x, y)\right).
\]
\end{thm}
\begin{proof}
The proof follows if we show that
\[
\sum_{(x, y) \in X \times Y} f(x, y) = \sum_{(y, x) \in Y \times X}f(x, y).
\]
There is a bijection $h: Y \times X \rightarrow X \times Y$ where $h((y, x))=
(x, y)$. By lemma \ref{c6s1l9},
\[
\sum{(x, y) \in X \times Y}f(x, y) = \sum_{(y, x) \in Y \times X} f(h(y, x))
= \sum_{(y, x) \in Y \times X} f(x, y).
\]
\end{proof}

\subsection{Exercices}
\begin{enumerate}
\item[1:] Form a definition for finite products 
\[
\prod_{i=1}^n a_i \text{ and } \prod_{x \in X} f(x).
\]
\item[Solution:] We define,
\begin{eqnarray*}
\prod_{i=1}^na_i &:=& 1 \text{ if } n < 1 \\
\prod_{i=1}^{n+1}a_i &:=& \prod_{i=1}^n a_i \times a_{n+1}.
\end{eqnarray*}
Thus,
\begin{eqnarray*}
\prod_{i=1}^3a_i &=& \prod_{i=1}^2 a_i \times a_3 \\
 &=& \prod_{i=1}^1 a_i \times a_2 \times a_3 \\
 &=& \prod_{i=1}^0 a_i \times a_1 \times a_2 \times a_3 \\
 &=& 1 \times a_1 \times a_2 \times a_3 \\
 &=& a_1 \times a_2 \times a_3 
\end{eqnarray*}

If $g:\{1, \ldots, \card X\} \rightarrow X$ is a bijection then
\[
\prod_{x \in X} f(x) = \prod_{i=1}^{\card X} f(g(i)).
\]

\item[2:] Let $X$ be a finite set. For each $x \in X$, let $\seq{a_n(x)}$
be a convergent sequence of real numbers. Show that the sequence 
$\seq{\sum_{x \in X} a_n(x)}$ is convergent and
\[
\lim\sum_{x \in X}\seq{a_n(x)} = \sum_{x \in X}\lim\seq{a_n(x)}.
\]
\item[Solution:] We will first show that $\seq{\sum_{x \in X} a_n(x)}$ is 
convergent. Let $\epsilon > 0$. Then there exists $N \in \son$ such that
for all $m, n \ge N$, $x \in X$, $|a_n(x) - a_m(x)| < \epsilon/K$, where
$K = \card X$. Let $b_n = \sum_{x \in X} a_n(x)$. Then for all $m, n \ge N$,
\begin{eqnarray*}
|b_m - b_n| 
 &=& \left|\sum_{x \in X} a_m(x) - \sum_{x \in X} a_n(x)\right| \\
 &=& \left|\sum_{x \in X} (a_m(x) - a_n(x))\right| \\
 &\le& \sum_{x \in X}|a_m(x) - a_n(x)| \\
 &<& \sum_{x \in X}\frac{\epsilon}{K} = \epsilon.
\end{eqnarray*}
Thus, $\seq{b_n}$ is a Cauchy sequence and it converges to a limit $L \in 
\sor$. 

Let $\lim\seq{a_n(x)} = l(x)$ for all $x \in X$. For an $\epsilon > 0$,
there exists $N \in \son$ such that for all $n \ge N$ and $x \in X$,
$|a_n(x) - l(x)| < \epsilon/K$. If $b_n = \sum_{x \in X} a_n(x)$, consider
\begin{eqnarray*}
\left|b_n(x) - \sum_{x \in X}l(x)\right| 
 &=& \left|\sum_{x \in X}a_n(x) - \sum_{x \in X}l(x)\right| \\
 &\le& \sum_{x \in X} |a_n(x) - l(x)| \\
 &<& \epsilon
\end{eqnarray*}
Thus,
\[
\lim\seq{b_n} = \sum_{x \in X} l(x) \Rightarrow
\lim\sum_{x \in X} a_n(x) = \sum_{x \in X}\lim\seq{a_n(x)}.
\]

\begin{rem}
If $X$ were an infinite set then this equality is not guaranteed.
\end{rem}

\item[3:] Let $I$ be a finite set and for each $i \in I$, let $E_i$ be a
finite set. Let $E_i \cap E_j = \varnothing$ for all $i \ne j, i, j \in I$.
Let $f: \cup_{i \in I}E_i \rightarrow \sor$. Show that
\[
\sum_{x \in \cup_{i \in I} E_i}f(x) = \sum_{i \in I}\sum_{x \in E_i} f(x).
\]
\item[Solution:] Let $E = \cup_{i \in I}E_i$. If $x \in E$ then $x$ is a
member of exactly one $E_i$ because $E_i \cap E_j = \varnothing$ for all
$i \ne j$. Since each $E_i$ is finite, $E$ is also finite. Let $n_i = \card
E_i$ and $n = \sum_{i \in I}n_i$. Let $g: \{1, \ldots n\} \rightarrow E$ be
a bijection such that $g(\{1, \ldots, n_1\}) = E_1, g(\{n_1 + 1, \ldots,
n_1 + n_2\}) = E_2, \ldots g(\{n_1 + \cdots + n_{K-1}, \ldots, n\}) = E_K$,
where $K = \card I$. Then,
\begin{eqnarray*}
\sum_{x \in E} f(x) &=& \sum_{i=1}^n f(g(i)) \\
 &=& \sum_{i=1}^{n_1} f(g(i)) + \sum_{i=n_1+1}^{n_1+n_2} f(g(i)) + \cdots
    + \sum_{i=n_1 + \cdots + n_{K-1}}^n f(g(i)) \\
 &=& \sum_{x \in E_1} f(x) + \sum_{x \in E_2}f(x) + \cdots + 
     \sum_{x \in E_K} f(x) \\
 &=& \sum_{i \in I} \sum_{x \in E_i} f(x)
\end{eqnarray*}

\begin{rem}
The solution is probably not wrong, but I am struggling to define the rhs
rigorously. We have not defined a sum where the outer index $i$ identifies
the set over which the inner sum runs. Let me retry the solution using 
induction on $\card I$.
\end{rem}

\item[Solution:] Without loss of generality we assume $I = \{1, \ldots, K\}$.
We will prove using induction on $K = \card I$. If $K = 1$
$\cup_{i \in I}E_i = E_1$ and 
\[
\sum_{i=1}^1 \sum_{x \in E_1}f(x) = \sum_{x \in E_1}f(x) = \sum_{x \in 
\cup_{i \in I}E_i} f(x).
\]
This proves the base case. Now assume that the hypothesis is true for 
$\card I = K$. Consider the case $\card I = K + 1$. 
\[
\bigcup_{i=1}^{K + 1} E_i = \bigcup_{i=1}^K E_i \cup E_{K+1} = F_K \cup
E_{K+1}.
\]
The sets $F_K$ and $E_{K+1}$ are disjoint. Therefore, by lemma \ref{c6s1l11},
\[
\sum_{x \in F_K \cup E_K} f(x) = \sum_{x \in F_K}f(x) + \sum_{x \in E_{K+1}}
f(x).
\]
By induction hypothesis,
\[
\sum_{x \in F_K \cup E_K} f(x) = \sum_{i \in I_K}\sum_{x \in E_i}f(x) + 
\sum_{x \in E_{K+1}} f(x),
\]
where $I_K$ is the set $I$ without the one element. The rhs can be combined
into a sum over $i \in I$.
\end{enumerate}

